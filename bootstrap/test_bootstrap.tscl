// Test script for bootstrap compiler
console.log("Testing bootstrap compiler...");

console.log("\n--- Testing tokenize ---");
let tokens = tokenize("let x = 1;");
console.log("tokens length:", tokens.length);

console.log("\n--- Testing parseProgram ---");
let parser = createParser(tokens);
console.log("parser created");
let ast = parseProgram(parser);
console.log("AST type:", ast.type);
console.log("AST body length:", ast.body.length);
if (ast.body.length > 0) {
    console.log("First statement type:", ast.body[0].type);
}

console.log("\n--- Testing compile ---");
console.log("Calling compile...");
let result = compile("let x = 1;");
console.log("compile returned:", result);
if (result != null) {
    console.log("Compile succeeded!");
} else {
    console.log("Compile failed!");
}

console.log("\nAll tests passed!");
